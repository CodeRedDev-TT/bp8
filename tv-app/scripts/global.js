var response= {
    "status": true,
    "data": {
        "id": 9,
        "name": "Hurricane",
        "asset": {
            "id": 1,
            "file_original_name": "Screenshot_1 (1)",
            "file_name": "uploads/all/ihXqpE8bBn0cHR1huHvY01Lz0KNG7rXvWdI9CIKy.jpg",
            "file_size": 16458,
            "extension": "jpg",
            "type": "image",
            "created_at": "2022-05-25T03:08:06.000000Z",
            "updated_at": "2022-05-25T03:08:06.000000Z",
            "deleted_at": null
        },
        "days": "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",
        "created_at": "2022-06-14T02:14:13.000000Z",
        "updated_at": "2022-06-14T02:14:13.000000Z",
        "deleted_at": null,
        "assetUrl": "http://localhost/workout/public",
        "pods": [
            {
                "id": 11,
                "workoutid": 9,
                "sets": 1,
                "laps": 1,
                "timesplit": "12/50",
                "created_at": "2022-06-14T02:14:13.000000Z",
                "updated_at": "2022-06-14T02:14:13.000000Z",
                "deleted_at": null,
                "stations": [
                    {
                        "id": 15,
                        "podid": 11,
                        "stationid": 14,
                        "created_at": "2022-06-14T02:14:13.000000Z",
                        "updated_at": "2022-06-14T02:14:13.000000Z",
                        "deleted_at": null,
                        "name": "Jump",
                        "asset": {
                            "id": 1,
                            "file_original_name": "Screenshot_1 (1)",
                            "file_name": "uploads/all/ihXqpE8bBn0cHR1huHvY01Lz0KNG7rXvWdI9CIKy.jpg",
                            "file_size": 16458,
                            "extension": "jpg",
                            "type": "image",
                            "created_at": "2022-05-25T03:08:06.000000Z",
                            "updated_at": "2022-05-25T03:08:06.000000Z",
                            "deleted_at": null
                        }
                    },
                    {
                        "id": 16,
                        "podid": 11,
                        "stationid": 2,
                        "created_at": "2022-06-14T02:14:13.000000Z",
                        "updated_at": "2022-06-14T02:14:13.000000Z",
                        "deleted_at": null,
                        "name": "Push Up",
                        "asset": {
                            "id": 2,
                            "file_original_name": "Screenshot_1 (1)",
                            "file_name": "uploads/all/ihXqpE8bBn0cHR1huHvY01Lz0KNG7rXvWdI9CIKy.jpg",
                            "file_size": 16458,
                            "extension": "jpg",
                            "type": "image",
                            "created_at": "2022-05-25T03:08:06.000000Z",
                            "updated_at": "2022-05-25T03:08:06.000000Z",
                            "deleted_at": null
                        }
                    },
                    {
                        "id": 17,
                        "podid": 11,
                        "stationid": 13,
                        "created_at": "2022-06-14T02:14:13.000000Z",
                        "updated_at": "2022-06-14T02:14:13.000000Z",
                        "deleted_at": null,
                        "name": "Squat",
                        "asset": {
                            "id": 1,
                            "file_original_name": "Screenshot_1 (1)",
                            "file_name": "uploads/all/ihXqpE8bBn0cHR1huHvY01Lz0KNG7rXvWdI9CIKy.jpg",
                            "file_size": 16458,
                            "extension": "jpg",
                            "type": "image",
                            "created_at": "2022-05-25T03:08:06.000000Z",
                            "updated_at": "2022-05-25T03:08:06.000000Z",
                            "deleted_at": null
                        }
                    }
                ]
            },
            {
                "id": 12,
                "workoutid": 9,
                "sets": 2,
                "laps": 1,
                "timesplit": "12/34",
                "created_at": "2022-06-14T02:14:13.000000Z",
                "updated_at": "2022-06-14T02:14:13.000000Z",
                "deleted_at": null,
                "stations": [
                    {
                        "id": 18,
                        "podid": 12,
                        "stationid": 14,
                        "created_at": "2022-06-14T02:14:13.000000Z",
                        "updated_at": "2022-06-14T02:14:13.000000Z",
                        "deleted_at": null,
                        "name": "Jump",
                        "asset": [{
                            "id": 1,
                            "file_original_name": "Screenshot_1 (1)",
                            "file_name": "uploads/all/ihXqpE8bBn0cHR1huHvY01Lz0KNG7rXvWdI9CIKy.jpg",
                            "file_size": 16458,
                            "extension": "jpg",
                            "type": "image",
                            "created_at": "2022-05-25T03:08:06.000000Z",
                            "updated_at": "2022-05-25T03:08:06.000000Z",
                            "deleted_at": null
                        }]
                    },
                    {
                        "id": 19,
                        "podid": 12,
                        "stationid": 2,
                        "created_at": "2022-06-14T02:14:13.000000Z",
                        "updated_at": "2022-06-14T02:14:13.000000Z",
                        "deleted_at": null,
                        "name": "Push Up",
                        "asset": null
                    }
                ]
            },
            {
                "id": 13,
                "workoutid": 9,
                "sets": 3,
                "laps": 1,
                "timesplit": "12",
                "created_at": "2022-06-14T02:14:13.000000Z",
                "updated_at": "2022-06-14T02:14:13.000000Z",
                "deleted_at": null,
                "stations": [
                    {
                        "id": 20,
                        "podid": 13,
                        "stationid": 14,
                        "created_at": "2022-06-14T02:14:13.000000Z",
                        "updated_at": "2022-06-14T02:14:13.000000Z",
                        "deleted_at": null,
                        "name": "Jump",
                        "asset": {
                            "id": 1,
                            "file_original_name": "Screenshot_1 (1)",
                            "file_name": "uploads/all/ihXqpE8bBn0cHR1huHvY01Lz0KNG7rXvWdI9CIKy.jpg",
                            "file_size": 16458,
                            "extension": "jpg",
                            "type": "image",
                            "created_at": "2022-05-25T03:08:06.000000Z",
                            "updated_at": "2022-05-25T03:08:06.000000Z",
                            "deleted_at": null
                        }
                    },
                    {
                        "id": 21,
                        "podid": 13,
                        "stationid": 2,
                        "created_at": "2022-06-14T02:14:13.000000Z",
                        "updated_at": "2022-06-14T02:14:13.000000Z",
                        "deleted_at": null,
                        "name": "Push Up",
                        "asset": null
                    }
                ]
            }
        ]
    },
    "message": ""
};

var ACCESS_TOKEN = "accesstoken";
var POD = "pod";
var WORKOUT = "workout";
var IS_DEV = false;
var BASE_URL = IS_DEV ?  "http://localhost/CodeRedLabs/Nick/bp8tv/api/" :"https://lovecrystalstt.com/bp8/api/"

function getQuerystring(key) {
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (pair[0] === key) {
            return pair[1];
        }
    }
}

function login(callback){
    $.ajax({
        method: "post",
        url:BASE_URL + "login",
        data:{
            "email": "admin@admin.com",
            "password" : "12345678"
        }
    }).done(function (response) {
        localStorage.setItem(ACCESS_TOKEN, response.access_token);
        if(callback)
            callback(response);
    });
}
function get_workouts_today(callback){
    var token = localStorage.getItem(ACCESS_TOKEN)
    $.ajax({
        method: "get",
        url:BASE_URL + "workouts/today",
        headers: {
            'Authorization': 'Bearer ' +token,
        },
    }).done(function (response) {
        if(callback)
            callback(response);
    });
}
function get_workout_details(workoutId, callback){
    var token = localStorage.getItem(ACCESS_TOKEN)
    $.ajax({
        method: "GET",
        url: BASE_URL + "workouts/" +workoutId,
        headers: {
            'Authorization': 'Bearer ' + token,
        },
    }).done(function (response){
        if(callback)
            callback(response);
    });
}

